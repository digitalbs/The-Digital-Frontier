<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Canvas Animation Test Page</title>
    <link rel="stylesheet" href="Stylesheets/common.css">
  </head>
  <body>
    <header>
      <h1>Canvas Animation Test Page</h1>
    </header>
    <canvas id="canvas"></canvas>
    <textarea id="log"></textarea>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script src="lib/utils.js" type="text/javascript"></script>
    <script src="objects/ball.js" type="text/javascript"></script>
    <script>
    
    
    window.onload = function () {
    	
      var canvas = document.getElementById('canvas'),
          context = canvas.getContext('2d'),
          ball = new Ball(),
          mouse = utils.captureMouse(canvas),
          log = $('#log');
          
      canvas.width = $(window).width();
      canvas.height = $(window).height();

	 
      ball.x = canvas.width / 2;
      ball.y = canvas.height / 2;
      
      ball.draw(context);
      
      canvas.addEventListener("mousedown", function(){
      	if(utils.containsPoint(ball.getBounds(), mouse.x, mouse.y))
      	{
      		$(log).val("in ball: mousedown");
      	}
      	else
      	{
      		$(log).val("canvas: mousedown");
      	}
      }, false);
      
      canvas.addEventListener('mouseup', function(){
      	if(utils.containsPoint(ball.getBounds(), mouse.x, mouse.y))
      	{
      		$(log).val("in ball: mouseup");
      	}
      	else
      	{
      		$(log).val("canvas: mouseup");
      	}
      }, false);
	  
	  canvas.addEventListener('mousemove', function(){
      	if(utils.containsPoint(ball.getBounds(), mouse.x, mouse.y))
      	{
      		$(log).val("in ball: mousemove");
      	}
      	else
      	{
      		$(log).val("canvas: mousemove");
      	}
      }, false);
	  	  
    };
    </script>
  </body>
</html>
